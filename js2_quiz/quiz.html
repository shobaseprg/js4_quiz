<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>クイズ問題</title>
  </head>

  <body>
    <h1 id = "infomation">ようこそ</h1>
    <h3 id = "genre_display"></h3>
    <h3 id = "dificult_display"></h3>

    <hr width="100%">
      <p id = "quiz_display">以下のボタンをクリック</p>
    <hr width="100%">
    <button type="button" name="aaa" id = "start_btn">
      開始
    </button>
    <script>
      const present_quiz = (quiz_array) => {
        var count = 0;
        var quiz_number = count + 1;
        console.log(quiz_array);
        document.getElementById("infomation").innerText = "問題" + quiz_number;
        document.getElementById("genre_display").innerText = "[ジャンル]" + quiz_array[count]["category"] ;
        document.getElementById("dificult_display").innerText = "[難易度]" + quiz_array[count]["difficulty"] ;
        document.getElementById("quiz_display").innerText = "[難易度]" + quiz_array[count]["question"] ;
      }
      document.getElementById("start_btn").addEventListener("click", () => { // 開始を押した場合
        document.getElementById("infomation").innerText = "取得中";
        document.getElementById("quiz_display").innerText = "少々お待ちください";

        const start_btn = document.getElementById("start_btn");  // 開始ボタンを削除
        start_btn.parentNode.removeChild(start_btn);

        fetch('https://opentdb.com/api.php?amount=10')
        .then((response) => {
        return response.json();
        })
        .then((json) => {
        let quiz_array = json.results;
        present_quiz(quiz_array)
        })
      });    
    </script>

  </body>
</html>