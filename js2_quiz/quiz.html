<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>クイズ問題</title>
  </head>

  <body>
    <h1>ようこそ</h1>
    <hr width="100%">
      <p id = "infomation">以下のボタンをクリック</p>
    <hr width="100%">
    <button type="button" name="aaa" id = "start_btn">
      開始
    </button>
    <script>
      document.getElementById("start_btn").addEventListener("click", () => { // 開始を押した場合
        document.getElementById("infomation").innerText = "取得中";
        fetch('https://opentdb.com/api.php?amount=10')
        .then((response) => {
          console.log(response)
          if(response.ok) { // ステータスがokならば
            return response.text(); // レスポンスをテキストとして変換する
          } else {
            throw new Error();
          }
        })
        .then((text) => console.log(text))
        .catch((error) => console.log(error));
      });    
    </script>

  </body>
</html>